# DevSecOps AI - CI/CD Pipeline Diagram

## ğŸ”„ GitHub Actions Pipeline Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TRIGGER EVENTS                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Push to main/develop branch                                   â”‚
â”‚  â€¢ Pull Request to main                                          â”‚
â”‚  â€¢ Weekly schedule (Sunday 00:00 UTC)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ENVIRONMENT SETUP                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  JAVA_VERSION: '17'                                              â”‚
â”‚  NODE_VERSION: '14'                                              â”‚
â”‚  PYTHON_VERSION: '3.9'                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                         â”‚
        â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   JOB 1: SAST     â”‚                  â”‚   JOB 2: SCA      â”‚
â”‚   Scan Python     â”‚                  â”‚   Dependency      â”‚
â”‚   & Java Code     â”‚                  â”‚   Analysis        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Bandit (Python) â”‚                  â”‚ â€¢ Safety (Python) â”‚
â”‚ â€¢ SpotBugs (Java) â”‚                  â”‚ â€¢ OWASP Dep-Check â”‚
â”‚                   â”‚                  â”‚ â€¢ npm audit (JS)  â”‚
â”‚ Duration: ~2 min  â”‚                  â”‚ Duration: ~3 min  â”‚
â”‚                   â”‚                  â”‚                   â”‚
â”‚ Upload Artifact:  â”‚                  â”‚ Upload Artifact:  â”‚
â”‚ sast-reports      â”‚                  â”‚ sca-reports       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                      â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   JOB 3: BUILD       â”‚
              â”‚   Application        â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ â€¢ Maven (Spring)     â”‚
              â”‚ â€¢ npm install (React)â”‚
              â”‚ â€¢ npm build          â”‚
              â”‚                      â”‚
              â”‚ Duration: ~4 min     â”‚
              â”‚                      â”‚
              â”‚ Upload Artifact:     â”‚
              â”‚ build-artifacts      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   JOB 4: DAST        â”‚
              â”‚   Dynamic Scan       â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ â€¢ Start Spring Boot  â”‚
              â”‚ â€¢ OWASP ZAP Baseline â”‚
              â”‚ â€¢ Scan localhost:8080â”‚
              â”‚                      â”‚
              â”‚ Duration: ~5 min     â”‚
              â”‚                      â”‚
              â”‚ Upload Artifact:     â”‚
              â”‚ dast-reports         â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   JOB 5: POLICY      â”‚
              â”‚   Generation (AI)    â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ â€¢ Download all       â”‚
              â”‚   reports            â”‚
              â”‚ â€¢ Parse vulnerabilitiesâ”‚
              â”‚ â€¢ Ollama LLM (qwen)  â”‚
              â”‚ â€¢ Generate policies  â”‚
              â”‚                      â”‚
              â”‚ Duration: ~2 min     â”‚
              â”‚                      â”‚
              â”‚ Upload Artifacts:    â”‚
              â”‚ â€¢ security-policies  â”‚
              â”‚ â€¢ dashboard          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   JOB 6: SECURITY    â”‚
              â”‚   Gate               â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
              â”‚ â€¢ Download artifacts â”‚
              â”‚ â€¢ Count by severity  â”‚
              â”‚ â€¢ Check thresholds:  â”‚
              â”‚   - CRITICAL: 0      â”‚
              â”‚   - HIGH: â‰¤5         â”‚
              â”‚                      â”‚
              â”‚ âœ… Pass â†’ Deploy     â”‚
              â”‚ âŒ Fail â†’ Block      â”‚
              â”‚                      â”‚
              â”‚ Duration: ~1 min     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Job Dependencies

```
sast-scan â”€â”
           â”œâ”€â”€â†’ build â”€â”€â†’ dast-scan â”€â”€â†’ generate-policies â”€â”€â†’ security-gate
sca-scan â”€â”€â”˜
```

## â±ï¸ Total Pipeline Duration

```
Sequential Execution:
â”œâ”€ SAST Scan:        2 min
â”œâ”€ SCA Scan:         3 min (parallel with SAST)
â”œâ”€ Build:            4 min
â”œâ”€ DAST Scan:        5 min
â”œâ”€ Policy Gen:       2 min
â””â”€ Security Gate:    1 min
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: ~15-20 minutes
```

## ğŸ¯ Artifact Flow

```
SAST Job â†’ sast-reports â”€â”
                         â”‚
SCA Job  â†’ sca-reports â”€â”€â”¼â”€â”€â†’ Policy Gen â”€â”€â†’ security-policies â”€â”€â†’ Security Gate
                         â”‚
DAST Job â†’ dast-reports â”€â”˜
                         â”‚
                         â””â”€â”€â†’ Dashboard Report
```

## ğŸ” Security Thresholds

| Severity   | Threshold | Action          |
|------------|-----------|-----------------|
| CRITICAL   | 0         | Fail build      |
| HIGH       | â‰¤ 5       | Fail build      |
| MEDIUM     | âˆ         | Warning only    |
| LOW        | âˆ         | Info only       |

## ğŸš€ Continuous Improvement

The pipeline automatically:
- âœ… Scans every push to main/develop
- âœ… Validates pull requests before merge
- âœ… Performs weekly security audits
- âœ… Generates AI-powered policy recommendations
- âœ… Blocks deployment if critical issues found
- âœ… Archives reports for 90 days

---

**Last Updated:** November 5, 2025  
**Repository:** https://github.com/DOHA6/devsecopsai
